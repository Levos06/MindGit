# MindGit - Фрактальный чатбот с углублением в термины

Минималистичный чатбот на базе OpenRouter API с возможностью создания иерархических дочерних чатов для углубленного изучения терминов и концепций.

## Особенности

- **Интерактивный чат** с поддержкой стриминга ответов
- **Выделение терминов** с возможностью создания дочерних чатов
- **Фрактальная структура** - неограниченная вложенность чатов
- **Визуализация дерева чатов** с интерактивным графом
- **Поддержка формул** - рендеринг LaTeX через KaTeX

## Требования

- Node.js 18+ 
- npm или yarn
- API ключ от OpenRouter

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/Levos06/MindGit.git
cd MindGit
```

2. Установите зависимости:
```bash
npm install
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Добавьте ваш API ключ OpenRouter в `.env`:
```
OPENROUTER_API_KEY=your_api_key_here
PORT=3000
```

## Запуск

### Режим разработки
```bash
npm run dev
```

### Production режим
```bash
npm start
```

Приложение будет доступно по адресу `http://localhost:3000`

## Использование

1. **Создание нового чата**: Нажмите кнопку "New chat" в боковой панели
2. **Отправка сообщений**: Введите текст в поле ввода и нажмите Enter или кнопку отправки
3. **Выделение терминов**: Выделите текст в ответе ассистента - он будет подсвечен желтым
4. **Углубление в термины**: После выделения нескольких фрагментов нажмите "Углубиться в термины" - будут созданы дочерние чаты
5. **Навигация по дереву**: Используйте граф в верхней шторке для визуализации и перехода между чатами
6. **Управление выделениями**: 
   - Кнопка с иконкой маркера под сообщением - включить/выключить выделения
   - Клик на серую область справа от выделения - удалить выделение

## Структура проекта

```
chatbot/
├── public/           # Фронтенд файлы
│   ├── app.js       # Основная логика приложения
│   ├── index.html   # HTML разметка
│   ├── styles.css   # Стили интерфейса
│   ├── graph.css    # Стили для графа чатов
│   └── tree.css     # Стили для дерева чатов
├── sessions/         # Хранилище сессий (создается автоматически)
├── server.js        # Express сервер
├── package.json     # Зависимости проекта
└── .env            # Конфигурация (создать вручную)
```

## API

### POST /api/chat
Отправка сообщений в чат с поддержкой стриминга.

**Параметры:**
- `messages` - массив сообщений в формате OpenAI
- `sessionId` - ID сессии (опционально)
- `stream` - включить стриминг (по умолчанию true)

### POST /api/sessions
Сохранение сессии чата.

### GET /api/sessions
Получение всех сессий.

### POST /api/summarize
Создание саммари для сессии.

## Технологии

- **Backend**: Node.js, Express
- **Frontend**: Vanilla JavaScript
- **API**: OpenRouter (Google Gemini 2.5 Flash Lite)
- **Стилизация**: CSS3
- **Граф**: SVG + D3.js-подобный алгоритм
- **Формулы**: KaTeX
- **Markdown**: marked.js

## Лицензия

MIT License

